<div class="container my-5">
  <h1 class="mb-4">コミュニティ詳細情報 (#<%= @community.id %>)</h1>
  <hr>

  <div class="card shadow p-4 mb-4">
    <h3 class="card-title mb-3">基本情報</h3>
    <table class="table table-bordered">
      <tbody>
        <tr>
          <th style="width: 20%;">コミュニティ名</th>
          <td><%= @community.name %></td>
        </tr>
        <tr>
          <th>オーナー</th>
          <td><%= link_to (@community.owner.name rescue '削除済みユーザー'), admin_user_path(@community.owner) rescue '#' %></td>
        </tr>
        <tr>
          <th>説明文</th>
          <td><%= simple_format(@community.description) %></td>
        </tr>
        <tr>
          <th>作成日時</th>
          <td><%= @community.created_at.strftime("%Y/%m/%d %H:%M") %></td>
        </tr>
        <tr>
          <th>ステータス</th>
          <td>
            <% if @community.is_active %>
              <span class="badge badge-success">有効 (活動中)</span>
            <% else %>
              <span class="badge badge-danger">停止中</span>
            <% end %>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="d-flex justify-content-center mt-4">
      <%# ステータス切り替えボタン %>
      <%= button_to (@community.is_active ? "コミュニティを停止する" : "コミュニティを有効にする"), 
                    admin_community_path(@community), 
                    method: :patch, 
                    data: { confirm: @community.is_active ? "本当にこのコミュニティを停止しますか？" : "このコミュニティを有効に戻しますか？" },
                    class: @community.is_active ? "btn btn-danger" : "btn btn-success" %>
    </div>
  </div>

  <div class="d-flex justify-content-center mt-5">
    <%= link_to "コミュニティ一覧に戻る", admin_communities_path, class: "btn btn-outline-secondary" %>
  </div>
</div>