<div class="container mt-4">
  <h1 class="mb-4">ユーザー一覧</h1>

  <% @users.each do |user| %>
    <div class="card mb-3 shadow-sm">
      <div class="d-flex align-items-center">
        <% if user.profile_image.attached? %>
          <%= image_tag user.profile_image.variant(resize_to_limit: [80, 80]), class: "rounded-circle ml-2" %>
        <% else %>
          <i class="fas fa-user-circle fa-4x ml-2 text-secondary"></i>
        <% end %>
        <div class="card-body p-2 ml-2 flex-grow-1">
          <h5 class="card-title mb-1">
            <%= link_to user.name, user_path(user), class: "text-dark" %>
          </h5>
          <p class="card-text small mb-1">
            自己紹介: <%= truncate(user.introduction, length: 100) %>
          </p>
          <p class="text-muted small mb-0">
            登録日: <%= l(user.created_at, format: :short) %>
          </p>
        </div>
      </div>
    </div>
  <% end %>

  <div class="d-flex justify-content-center mt-4">
    <%= paginate @users %>
  </div>
</div>